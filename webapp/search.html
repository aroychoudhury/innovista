<!DOCTYPE html>
<html>
   <head>
      <title>Search Documents</title>
      <!-- Bootstrap -->
      <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
      <link href="bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
      <link href="vendors/datepicker.css" rel="stylesheet" media="screen">
      <link href="vendors/uniform.default.css" rel="stylesheet" media="screen">
      <link href="vendors/chosen.min.css" rel="stylesheet" media="screen">
      <link href="vendors/wysiwyg/bootstrap-wysihtml5.css" rel="stylesheet" media="screen">
      <link href="assets/styles.css" rel="stylesheet" media="screen">
      <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="vendors/flot/excanvas.min.js"></script><![endif]-->
      <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
      <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
      <script src="vendors/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	  
        
   </head>
   <body>
      <div class="navbar navbar-fixed-top">
         <div class="navbar-inner">
            <div class="container-fluid">
               <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </a>
               <a class="brand" href="#"><img src = 'images/verizonlogo.png' style='width:105px;height:25px;margin: -6px 0 0 0'> </img></a>
               <div class="nav-collapse collapse">
                  <ul class="nav pull-right">
                     <li class="dropdown">
                        <a href="#" role="button" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-user"></i> Abhishek <i class="caret"></i>
                        </a>
                        <ul class="dropdown-menu">
                           <li>
                              <a tabindex="-1" href="#">Profile</a>
                           </li>
                           <li class="divider"></li>
                           <li>
                              <a tabindex="-1" href="login.html">Logout</a>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <ul class="nav">
                     <li class="">
                        <a href="index.html">Dashboard</a>
                     </li>
                     <li class="active">
                        <a href="search.html">Search</a>
                     </li>
                     
                  </ul>
               </div>
               <!--/.nav-collapse -->
            </div>
         </div>
      </div>
      <div class="container-fluid">
         <div class="row-fluid">
            <div class="span4" id="sidebar">
               <div class="navbar navbar-inner block-header" style="width: 75%;box-radius:4px; background-image: none; background-color: #f5f5f5;">
                  <div>
                     <ul class="nav nav-list bs-docs-sidenav nav-collapse collapse" style="background-image: none; background-color: #f5f5f5;" >
                        <li>
                           <button class="btn" id="clear">Clear</button>
                        </li>
                        <li  class="active">
                           <button class="btn" id="filter" disabled="">Filter</button>
                        </li>
                     </ul>
                  </div>
                  <div class="control-group">
                     <div class="controls">
                        <label class="control-label"><b><br>Text Search</b></label>
                        <input class="input-xlarge focused" id="text_search" type="text" value="">
                        <label class="control-label"><b>Tags</b></label>
                        <input class="input-xlarge focused" id="tags" type="text" placeholder="e.g;events,boston">
                        <label class="control-label"><b>Creation Date</b></label>
                        <label class="checkbox" style="margin-bottom: 10px;"><input type="checkbox"> 2016 (10)</label>
                        <label class="control-label"><b>Modification Date</b></label> 
                        <label class="checkbox"><input type="checkbox"> Last 24h (2)</label>
                        <label class="checkbox"><input type="checkbox"> Last Week (8)</label>
                        <label class="checkbox"><input type="checkbox"> Last Month (0)</label>
                        <label class="checkbox"><input type="checkbox"> Last Year (0)</label>
                        <label class="checkbox" style="margin-bottom: 10px;"><input type="checkbox"> More than one year ago (0)</label>
                        <label class="control-label"><b>User</b></label>
                        <input class="input-xlarge focused" id="text_search" type="text" placeholder="Select a value">
                        <label class="control-label"><b>Workgroup</b></label>
                        <input class="input-xlarge focused" id="text_search" type="text" placeholder="Select a value">
                        <label class="control-label"><b>Nature</b></label>
                        <label class="control-label" disabled="disabled">No available result</label>
                        <label class="control-label"><b>Subjects</b></label>
                        <label class="control-label" disabled="disabled">No available result</label>
                        <label class="control-label"><b>Coverage</b></label>
                        <label class="control-label" disabled="disabled">No available result</i></label>
                        <label class="control-label"><b>Location</b></label> 
                        <label class="control-label" disabled="disabled">No available result</label>
                        <label class="control-label"><b>Folder</b></label>
                        <label class="control-label" disabled="disabled">No available result</label>
                     </div>
                  </div>
               </div>
            </div>
            <!--/span-->
            <div class="span8" id="content">
               <!-- morris stacked chart -->
               <div class="row-fluid">
                  <!-- block -->
                  <div class="control-group" style='float:left;width:50%'>
                     <div class="controls">
                        <input type="text"  class="searchText" name="searchText" data-required="1" class="span6 m-wrap" style="width: 100% !important"  placeholder = "Your search details goes here ..."/>
                     </div>
                  </div>
                  <div class="btn-group" style='float:left'>
                     <button data-toggle="dropdown" class="btn btn-danger dropdown-toggle" >  Search All  <span class="caret"></span></button>
                     <ul class="dropdown-menu">
                        <li><a href="#">RFP</a></li>
                        <li><a href="#">Contract</a></li>
                        <li><a href="#">Product</a></li>
                        <li><a href="#">Pricing</a></li>
                        <li><a href="#">Quoting</a></li>
                     </ul>
                  </div>
                  <div class="btn-group" style='float:left'>
                     <button data-toggle="dropdown" class="btn btn-danger dropdown-toggle uploadBtnTrigger">  Upload  </button>
                  </div>
				   <div id="dialog_upload" style="display:none;" title="Upload Files"><iframe frameborder="0" scrolling="Yes" width="1200" height="800" src="upload.html"></iframe></div>	
                  <div style="padding-top: 40px;display:none" class="searchResults">
                     <div class="row-fluid">
                        <div class="span12">
                           <div class="pagination">
                              <ul>
                                 <li class="disabled"><a href="#">Prev</a></li>
                                 <li ><a href="#">1</a></li>
                                 <li class="disabled"><a href="#">Next</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="row-fluid">
						<div class="span12 results"></div>
                     </div>
               </div>
            </div>
            <!-- /block -->
         </div>
      </div>
      </div>
      <hr>
      <footer>
         <p>&copy; Innovista 2016</p>
      </footer>
      </div>
      <!--/.fluid-container-->
      <script src="vendors/jquery-1.9.1.js"></script>
      <script src="bootstrap/js/bootstrap.min.js"></script>
      <script src="vendors/jquery.uniform.min.js"></script>
      <script src="vendors/chosen.jquery.min.js"></script>
      <script src="vendors/bootstrap-datepicker.js"></script>
      <script src="vendors/wysiwyg/wysihtml5-0.3.0.js"></script>
      <script src="vendors/wysiwyg/bootstrap-wysihtml5.js"></script>
      <script src="vendors/wizard/jquery.bootstrap.wizard.min.js"></script>
      <script type="text/javascript" src="vendors/jquery-validation/dist/jquery.validate.min.js"></script>
      <script src="assets/form-validation.js"></script>
      <script src="assets/scripts.js"></script>
      <script>
         jQuery(document).ready(function() {   
            FormValidation.init();
         });
         
         
                $(function() {
                    $(".datepicker").datepicker();
                    $(".uniform_on").uniform();
                    $(".chzn-select").chosen();
                    $('.textarea').wysihtml5();
         
                    $('#rootwizard').bootstrapWizard({onTabShow: function(tab, navigation, index) {
                        var $total = navigation.find('li').length;
                        var $current = index+1;
                        var $percent = ($current/$total) * 100;
                        $('#rootwizard').find('.bar').css({width:$percent+'%'});
                        // If it's the last tab then hide the last button and show the finish instead
                        if($current >= $total) {
                            $('#rootwizard').find('.pager .next').hide();
                            $('#rootwizard').find('.pager .finish').show();
                            $('#rootwizard').find('.pager .finish').removeClass('disabled');
                        } else {
                            $('#rootwizard').find('.pager .next').show();
                            $('#rootwizard').find('.pager .finish').hide();
                        }
                    }});
                    $('#rootwizard .finish').click(function() {
                        alert('Finished!, Starting over!');
                        $('#rootwizard').find("a[href*='tab1']").trigger('click');
                    });
         		$('#optionsCheckbox').click(function()
         		{
         		$('#filter').attr("enabled", !this.checked);
         		
         		});
         
        
         $('.searchText').keypress(function (e) {
		 var key = e.which;
         if(key == 13) {
         if($('.searchText').val() !='') {
		 var searchText = $('.searchText').val();
			$.ajax({
				url : "http://localhost:8080/loadbalancer/document/documentservices/search/" + searchText,
				type: "POST",
				success: function(data, textStatus, jqXHR)
				{
					var response = new Array();
						response = data;
					var div ='';
						for ( var i=0; i <response.length;i++) {
							var finalParagraph = '';
							if(response[i].tags !=null) {
								var tags = new Array();
								tags = response[i].tags.split('#');
								var tagsParagraph = '';
								for(var k=0; k<tags.length;k++) {
									tagsParagraph = tagsParagraph + "<a href='#'><span class='label label-info'>"+tags[k]+"</span></a>";
								}
								finalParagraph = "<p style='margin-top:2px !important; padding-top:2px !important;'> <i class='icon-tags'></i> Tags :"+tagsParagraph + "</p>";
							}
							
							
							div = div + "<div class='row-fluid'>" +
							   "<div class = 'span10'>" +
								 " <h4><strong><a href='#'>" + response[i].docName + "</a></strong></h4>" +
							   "</div>" +
							"</div>" +
							"<div class='row-fluid'>" +
							  "<div class='span2'>" +
								  "<a href='#' class='thumbnail'>" +
								  "<img src='http://placehold.it/260x180' alt=''>" +
								  "</a>" +
							   "</div>" +
							   "<div class='span8'>" +
								  "<p>" +
								  "</p>" + response[i].docDescription +
								  "<p>" +
									 "<label class='control-label'><b>Pending actions:</b>" +
									 "<button class='btn' type='button'><i class='icon-thumbs-up'></i></button>" +
									 "<button class='btn' type='button'><i class='icon-thumbs-down'></i></button></label>" +
								  "</p>" +
							   "</div>" +
							"</div>" +
							"<div class='row-fluid'>" +
							   "<div class='span10'>" +
								  "<p></p>" +
								  "<p style='margin-bottom:0px !important; padding-bottom:0px !important;'>" +
									 "<i class='icon-user'></i> by <a href='#'>" + response[i].user+"</a> " +
									 "| <i class='icon-calendar'></i> " + response[i].createdAt +
									 "| <i class='icon-comment'></i> <a href='#'>3 Comments</a>" +
									 "| <i class='icon-heart'></i> <a href='#'>1 Likes</a>" +
									 "| <i class='icon-share'></i> <a href='#'>4 Shares</a>" +
								  "</p>" +
								  finalParagraph +
							   "</div>" +
							"</div><hr>" ;
						}
						$('.results').html(div);
						$('.searchResults').css('display','');
					
				},
				error: function (jqXHR, textStatus, errorThrown)
				{
			 
				}
			});
         } else {
         $('.searchResults').css('display','none');
         }
         }
         });
		 $( '.uploadBtnTrigger').click(function() {
		 
					$( '#dialog_upload' ).dialog({
						modal: true,
						width: 600,
						height: 600
					});
					$( '#dialog_upload' ).dialog('open');
				});
         
                });
         
         
                
      </script>
   </body>
</html>